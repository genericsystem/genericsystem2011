<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:middleware="http://java.sun.com/jsf/composite/middleware">


<h:body>
	<f:metadata>
		<f:event type="preRenderView"
			listener="#{conversationManager.beginConversation}" />
	</f:metadata>

	<!-- 

	<middleware:composite_linkslist
		generics="#{linksList.makeRelationList()}"
		add="#{linksList.addRelation()}"
		hasTarget="true"
		getTarget="#{linksList.allType}" />
		
		 -->
	<!-- isRecusive="true"
		genericsRec="linksList.makeLinkListFromRelation"
		addRec="linksList.addLink"
		hasTargetRec="linksList.hasTarget"
		getTargetRec="linksList.getTargetsInstanceSelectItems"
		 -->

	<h:dataTable value="#{linksList.makeRelationList()}" var="relation"
		id="datatable-relations">
		<h:column>
			<middleware:composite_linkslist
				masterGeneric="#{relation}"
				generics="#{linksList.makeLinkListFromRelation(relation)}"
				add="#{linksList.addLink(relation)}"
				hasTarget="#{linksList.hasTarget(relation)}"
				getTargets="#{linksList.getTargetsInstanceSelectItems(relation)}" />
		</h:column>
	</h:dataTable>
</h:body>


<!--
<h:form>

	<h:message for="textPanel" style="color:red;" />

	<h:panelGrid columns="3" id="textPanel">
 
		Label : <h:inputText id="name" value="#{addAttributeOrRelation.name}" />
		<h:form>
		Cible : <h:inputText id="cible" value="#{addAttributeOrRelation.cible}"/> <h:commandButton action="#{addAttributeOrRelation.addOne()}" value="Ajouter Cible" />
		</h:form>
		<rich:list value="#{addAttributeOrRelation.cibles}" id="list" var="cible">
			<h:outputText value="#{cible}" />
			<h:commandButton action="#{addAttributeOrRelation.remove(cible)}" value="remove" />
		</rich:list>

	</h:panelGrid>

	<h:commandButton action="" value="Create" /> 

</h:form>



<ui:composition template="/pages/template.xhtml">

	<ui:define name="bodySection">

		<h:panelGrid columns="1">
			<ui:include src="body/instances.xhtml" />

			<ui:include src="/pages/popup/createGenericPopup.xhtml" />
		</h:panelGrid>

	</ui:define>

</ui:composition>

-->
</html>
