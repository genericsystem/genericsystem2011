<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:gs="http://java.sun.com/jsf/composite/gs">

	<h:panelGrid id="toolbar" columns="8">
		<a4j:status name="panelUpdateStatus">
			<f:facet name="start">
                        (Updating)
                    </f:facet>
		</a4j:status>
		<h:outputText rendered="#{fileSystemBean.fileSelected}"
			value="#{fileSystemBean.fileShortPath}" />
		<h:outputText rendered="#{fileSystemBean.directorySelected}"
			value="#{fileSystemBean.directoryShortPath}" />
			
		<a4j:commandLink rendered="#{fileSystemBean.directorySelected}"
			oncomplete="#{rich:component('createfile')}.show()">
			<h:graphicImage
				value="http://www.genericsystem.com/genericsystem.com/seam/resource/img/16x16/plain/document_add.png"
				title="#{msg.create} #{msg.a} #{msg.file}" />
		</a4j:commandLink>

		<a4j:commandLink rendered="#{fileSystemBean.directorySelected}"
			oncomplete="#{rich:component('createsubdirectory')}.show()">
			<h:graphicImage
				value="http://www.genericsystem.com/genericsystem.com/seam/resource/img/16x16/plain/add.png"
				title="#{msg.create} #{msg.a} #{msg.sub} #{msg.directory}" />
		</a4j:commandLink>

		<a4j:commandLink execute="edit"
			rendered="#{fileSystemBean.fileSelected}" status="panelUpdateStatus"
			onclick="editor.save();">
			<h:graphicImage
				value="http://www.genericsystem.com/genericsystem.com/seam/resource/img/16x16/plain/floppy_disk.png"
				title="#{msg.apply}" />
		</a4j:commandLink>

		<a4j:commandLink action="#{fileSystemBean.delete}"
			rendered="#{fileSystemBean.fileSelected || fileSystemBean.directorySelected}"
			render="directorytree"
			onclick="if (! window.confirm('#{msg.popupRemove}') ) {return false}">
			<h:graphicImage
				value="http://www.genericsystem.com/genericsystem.com/seam/resource/img/16x16/plain/delete.png"
				title="#{msg.delete}" />
		</a4j:commandLink>

		<a4j:commandLink
			oncomplete="#{rich:component('newrootdirectory')}.show()">
			<h:graphicImage
				value="http://www.genericsystem.com/genericsystem.com/seam/resource/img/16x16/plain/add.png"
				title="#{msg.add} #{msg.a} #{msg.root} #{msg.directory}" />
		</a4j:commandLink>
	</h:panelGrid>
</ui:composition>