<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:gs="http://java.sun.com/jsf/composite/gs">

	<ui:include src="/pages/head.xhtml" />
	<rich:panel styleClass="fullWidth">
		<f:facet name="header">
			<h:panelGrid columns="6" styleClass="fullWidth"
				columnClasses=",fullWidth,,,">
				<h:outputText styleClass="uppercase"
					value="#{msg.file} #{msg.system} #{msg.manager}" />
				<a4j:outputPanel ajaxRendered="true" styleClass="scroll">
					<h:messages />
				</a4j:outputPanel>
				<ui:include src="/pages/toolbar.xhtml" />
				<ui:include src="/pages/cachemanager.xhtml" />
			</h:panelGrid>
		</f:facet>
		<h:panelGrid columns="2" styleClass="fullWidth"
			rowClasses="fullHeight"
			columnClasses="topAlign mediumScroll fullHeight,topAlign fullWidth fullHeight">
			<ui:include src="/pages/directorytree.xhtml" />
			<ui:include src="/pages/editpanel.xhtml" />
		</h:panelGrid>
	</rich:panel>


	<gs:popupPanel key="createfile"
		title="#{msg.create} #{msg.a} #{msg.file}"
		input="#{fileSystemBean.newFileName}"
		action="#{fileSystemBean.addFile}" render="directorytree" />
	<gs:popupPanel key="createsubdirectory"
		title="#{msg.create} #{msg.a} #{msg.sub} #{msg.directory}"
		input="#{fileSystemBean.newSubDirectoryName}"
		action="#{fileSystemBean.addSubDirectory}" render="directorytree" />
	<gs:popupPanel key="newrootdirectory"
		title="#{msg.add} #{msg.a} #{msg.root} #{msg.directory}"
		input="#{fileSystemBean.newRootDirectory}"
		action="#{fileSystemBean.addRootDirectory}" render="directorytree" />

</ui:composition>