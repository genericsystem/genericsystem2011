<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:gs="http://java.sun.com/jsf/composite/gs">

	<rich:contextMenu target="panelfilesystemmanager" mode="ajax">
		<rich:menuItem
			label="#{msg.add} #{msg.a} #{msg.root} #{msg.directory}"
			oncomplete="#{rich:component('newrootdirectory')}.show()" mode="ajax"
			icon="#{infos.add}" />
	</rich:contextMenu>

	<gs:popupPanel key="createfile"
		title="#{msg.create} #{msg.a} #{msg.file}"
		action="#{fileSystemBean.addFile(popupValue)}"
		render="treefilesystemmanager" />
	<gs:popupPanel key="createsubdirectory"
		title="#{msg.create} #{msg.a} #{msg.sub} #{msg.directory}"
		action="#{fileSystemBean.addSubDirectory(popupValue)}"
		render="treefilesystemmanager" />
	<gs:popupPanel key="newrootdirectory"
		title="#{msg.add} #{msg.a} #{msg.root} #{msg.directory}"
		action="#{fileSystemBean.addRootDirectory(popupValue)}"
		render="treefilesystemmanager" />

</ui:composition>