<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:middleware="http://java.sun.com/jsf/composite/middleware">

	<rich:panel styleClass="widthScroll280">
		<rich:tree id="directorytree" toggleType="ajax" var="item"
			status="panelUpdateStatus" selectionType="ajax" render="toolbar,edit"
			selectionChangeListener="#{fileSystemBean.changeFile}">
			<rich:treeModelRecursiveAdaptor
				roots="#{fileSystemBean.rootDirectories}"
				nodes="#{fileSystemBean.getDirectories(item)}">
				<rich:treeNode>
                    #{item.shortPath}
                </rich:treeNode>
				<rich:treeModelAdaptor nodes="#{fileSystemBean.getFiles(item)}">
					<rich:treeNode>#{item.shortPath}</rich:treeNode>
				</rich:treeModelAdaptor>
			</rich:treeModelRecursiveAdaptor>
		</rich:tree>
	</rich:panel>
</ui:composition>