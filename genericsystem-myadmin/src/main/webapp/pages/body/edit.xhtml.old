<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:middleware="http://java.sun.com/jsf/composite/middleware">

<ui:composition>
	<a4j:outputPanel rendered="#{not empty selectedInstance}">
	
		<c:forEach items="#{linksList.makeRelationList()}" var="relation">
			<middleware:composite_linkslist type="#{relation}"
				instances="#{linksList.makeLinkListFromRelation(relation)}"
				hasTarget="#{linksList.hasTarget(relation)}"
				getTargets="#{linksList.getTargetsInstanceSelectItems(relation)}"
				editable="true" />
		</c:forEach>


		<!-- 
		<rich:panel>
			<f:facet name="header">
				<h:outputText
					value="#{msg.edit} #{msg.instance} : #{selectedInstance} 
 					(#{msg.type} : #{selectedType})" />
			</f:facet>

			<h:panelGrid columns="1">
				<h:outputText
					value="#{msg.edit} : #{selectedInstance} #{msg.of} #{selectedType}"
					rendered="#{not empty selectedType}" />
			</h:panelGrid>

			<rich:dataTable value="#{propertiesManager.properties}"
				var="property" rendered="#{not empty selectedInstance}">
				<rich:column>
					<h:outputText value="#{property.implicitInstance}" />
				</rich:column>
				<rich:column>
					<rich:inplaceInput
						value="#{selectedInstanceManager.getWrapper(property).value}"
						inputWidth="90px">
						<a4j:ajax
							execute="#{selectedInstanceManager.getWrapper(property).value}"
							render="instancesPanel" />
					</rich:inplaceInput>
				</rich:column>
			</rich:dataTable>
		</rich:panel>
		 -->
	</a4j:outputPanel>
</ui:composition>
</html>